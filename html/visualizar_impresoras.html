<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Visualizar Impresoras - King's Pizza</title>
    
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/menu_principal.css">
    <link rel="stylesheet" href="../css/visualizar_impresoras.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Contenedor Principal -->
        <div class="impresora-visualizar-container">
            <!-- Header con Título y Fecha/Hora -->
            <div class="impresora-visualizar-header">
                <div class="impresora-visualizar-header-left">
                    <h1 class="impresora-visualizar-titulo">Visualizar Impresoras</h1>
                </div>
                <div class="impresora-visualizar-header-right">
                    <div class="fecha-hora-display">
                        <span id="fechaActual"></span>
                        <span id="horaActual"></span>
                    </div>
                </div>
            </div>

        <!-- Sección de Búsqueda -->
        <div class="busqueda-section">
            <form class="busqueda-form" onsubmit="return false;">
                <div class="campo-tipo-busqueda">
                    <label for="tipoBusqueda"><i class="fas fa-filter"></i> Filtrar por:</label>
                    <select id="tipoBusqueda" class="select-tipo-busqueda">
                        <option value="nombre">Nombre</option>
                        <option value="marca">Marca</option>
                        <option value="tipo">Tipo</option>
                        <option value="ubicacion">Ubicación</option>
                        <option value="estado">Estado</option>
                    </select>
                </div>
                
                <div class="campo-busqueda">
                    <label for="busqueda"><i class="fas fa-search"></i> Buscar:</label>
                    <input 
                        type="text" 
                        id="busqueda" 
                        class="input-busqueda" 
                        placeholder="Ingrese término de búsqueda..."
                    >
                </div>
                
                <button type="button" class="btn-buscar-principal" onclick="buscarImpresora()">
                    <i class="fas fa-search"></i>
                    BUSCAR
                </button>
                
                <button type="button" class="btn-detalle-principal" onclick="verDetalle()" id="btnDetalle" disabled>
                    <i class="fas fa-info-circle"></i>
                    DETALLE
                </button>
            </form>
        </div>

        <!-- Sección de Tabla -->
        <div class="tabla-impresoras-section">
            <div class="tabla-impresoras-wrapper">
                <table class="tabla-impresoras" id="tablaImpresoras">
                    <thead>
                        <tr>
                            <th>NOMBRE</th>
                            <th>MARCA</th>
                            <th>TIPO</th>
                            <th>UBICACIÓN</th>
                            <th>ESTADO</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr onclick="seleccionarFila(this)">
                            <td>Impresora Principal</td>
                            <td>Epson</td>
                            <td>Térmica</td>
                            <td>Caja Principal</td>
                            <td><span class="badge badge-activa">Activa</span></td>
                        </tr>
                        <tr onclick="seleccionarFila(this)">
                            <td>Impresora Cocina</td>
                            <td>Star Micronics</td>
                            <td>Térmica</td>
                            <td>Cocina</td>
                            <td><span class="badge badge-activa">Activa</span></td>
                        </tr>
                        <tr onclick="seleccionarFila(this)">
                            <td>Impresora Backup</td>
                            <td>HP</td>
                            <td>Láser</td>
                            <td>Almacén</td>
                            <td><span class="badge badge-inactiva">Inactiva</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Botones de Acción -->
            <div class="acciones-impresoras">
                <button class="btn-exportar-impresoras" onclick="exportarImpresoras()">
                    <i class="fas fa-file-excel"></i>
                    Exportar
                </button>
                <button class="btn-salir-impresoras" onclick="salirModulo()">
                    <i class="fas fa-times-circle"></i>
                    Salir
                </button>
            </div>
        </div>
    </main>

    <!-- Modal de Detalle -->
    <div class="modal" id="modalDetalle">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-print"></i> Detalles de la Impresora</h2>
                <button class="modal-close" onclick="cerrarModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="modal-body">
                <!-- Información General -->
                <div class="detalle-section">
                    <h3 class="section-titulo">
                        <i class="fas fa-info-circle"></i>
                        Información General
                    </h3>
                    <div class="detalle-grid">
                        <div class="detalle-item">
                            <label>Nombre:</label>
                            <span id="detalle-nombre">-</span>
                        </div>
                        <div class="detalle-item">
                            <label>Marca:</label>
                            <span id="detalle-marca">-</span>
                        </div>
                        <div class="detalle-item">
                            <label>Modelo:</label>
                            <span id="detalle-modelo">-</span>
                        </div>
                        <div class="detalle-item">
                            <label>Tipo:</label>
                            <span id="detalle-tipo">-</span>
                        </div>
                    </div>
                </div>

                <!-- Configuración de Conexión -->
                <div class="detalle-section">
                    <h3 class="section-titulo">
                        <i class="fas fa-network-wired"></i>
                        Configuración de Conexión
                    </h3>
                    <div class="detalle-grid">
                        <div class="detalle-item">
                            <label>Tipo de Conexión:</label>
                            <span id="detalle-conexion">-</span>
                        </div>
                        <div class="detalle-item">
                            <label>Dirección IP:</label>
                            <span id="detalle-ip">-</span>
                        </div>
                        <div class="detalle-item">
                            <label>Puerto:</label>
                            <span id="detalle-puerto">-</span>
                        </div>
                        <div class="detalle-item">
                            <label>Estado:</label>
                            <span id="detalle-estado">-</span>
                        </div>
                    </div>
                </div>

                <!-- Ubicación y Características -->
                <div class="detalle-section">
                    <h3 class="section-titulo">
                        <i class="fas fa-map-marker-alt"></i>
                        Ubicación y Características
                    </h3>
                    <div class="detalle-grid">
                        <div class="detalle-item">
                            <label>Ubicación:</label>
                            <span id="detalle-ubicacion">-</span>
                        </div>
                        <div class="detalle-item">
                            <label>Ancho de Rollo:</label>
                            <span id="detalle-ancho">-</span>
                        </div>
                    </div>
                </div>

                <!-- Configuración Avanzada -->
                <div class="detalle-section">
                    <h3 class="section-titulo">
                        <i class="fas fa-cogs"></i>
                        Configuración Avanzada
                    </h3>
                    <div class="config-checks">
                        <div class="config-check-item">
                            <i class="fas fa-check-circle" id="icon-corte"></i>
                            <span>Corte automático</span>
                        </div>
                        <div class="config-check-item">
                            <i class="fas fa-check-circle" id="icon-apertura"></i>
                            <span>Apertura de cajón</span>
                        </div>
                        <div class="config-check-item">
                            <i class="fas fa-check-circle" id="icon-logo"></i>
                            <span>Imprimir logo</span>
                        </div>
                        <div class="config-check-item">
                            <i class="fas fa-check-circle" id="icon-qr"></i>
                            <span>Imprimir código QR</span>
                        </div>
                    </div>
                </div>

                <!-- Observaciones -->
                <div class="detalle-section">
                    <h3 class="section-titulo">
                        <i class="fas fa-comment-alt"></i>
                        Observaciones
                    </h3>
                    <div class="observaciones-box">
                        <p id="detalle-observaciones">Sin observaciones</p>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn-modal btn-probar" onclick="probarImpresora()">
                    <i class="fas fa-print"></i>
                    Probar Impresión
                </button>
                <button class="btn-modal btn-cerrar" onclick="cerrarModal()">
                    <i class="fas fa-times"></i>
                    Cerrar
                </button>
            </div>
            </div>
        </div>
    </main>

    <!-- JavaScript -->
    <script src="../js/load_sidebar.js"></script>
    <script src="../js/menu_principal.js"></script>
    <script src="../js/visualizar_impresoras.js"></script>
</body>
</html>
